<!-- app/pages/comparacao/comparacao.component.html -->

<app-side-bar></app-side-bar>

<div class="container mt-5 pt-5">
  <h1 class="text-center text-primary mb-4">Comparar Carros</h1>

  <!-- NOVO: Pequeno texto descritivo -->
  <h4 class="text-center text-muted mb-5">
    Selecione dois modelos Ford para ver suas especificações lado a lado e descobrir qual se encaixa melhor nas suas necessidades.
  </h4>

  <!-- Mensagens de alerta/erro -->
  <div *ngIf="alertMessage" class="alert alert-warning text-center" role="alert">
    {{ alertMessage }}
  </div>

  <!-- Lista de Carros para Seleção -->
  <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
    <div class="col" *ngFor="let car of availableCars">
      <div class="card h-100 shadow-sm">
        <img [src]="car.image" class="card-img-top p-3" alt="{{ car.nome }}" style="max-height: 200px; object-fit: contain;">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title text-center text-primary">{{ car.nome }}</h5>
          <p class="card-text text-center">Preço Sugerido: R$ {{ car.preco | number:'1.2-2':'pt' }}</p>
          <div class="d-flex justify-content-center align-items-center mt-auto">
            <input type="checkbox" class="form-check-input me-2"
                   (change)="setCarToCompare($event, car)"
                   [checked]="isChecked(car)"> <!-- CORRIGIDO: Chamando o novo método isChecked(car) -->
            <label class="form-check-label">Comparar</label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Botão para mostrar a comparação -->
  <div class="text-center mb-5">
    <button type="button" class="btn btn-primary" (click)="showCompare()">Comparar Carros Selecionados</button>
  </div>
</div>
